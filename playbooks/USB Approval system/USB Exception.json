{
    "@context": "\/api\/3\/contexts\/Workflow",
    "@type": "Workflow",
    "triggerLimit": null,
    "name": "USB Exception",
    "aliasName": null,
    "tag": null,
    "description": null,
    "isActive": true,
    "debug": true,
    "singleRecordExecution": false,
    "remoteExecutableFlag": false,
    "parameters": [],
    "synchronous": false,
    "collection": "\/api\/3\/workflow_collections\/95dff462-0a82-4595-986a-0f366d1776dc",
    "versions": [],
    "triggerStep": "\/api\/3\/workflow_steps\/004086a1-eb5c-43b1-9ece-2e1f86e92e6d",
    "steps": [
        {
            "@type": "WorkflowStep",
            "name": "Confirmation Email for moving collector",
            "description": null,
            "arguments": {
                "name": "Exchange",
                "config": "52794173-b426-4c36-a09b-5d95d7ad304f",
                "params": {
                    "body": "<p>Dear {{vars.steps.Get_Requester_information.data.entries[0].attributes.displayName}}<\/p>\n<p>&nbsp;<\/p>\n<p>your request has been approved ,<\/p>",
                    "subject": "USB Request - ID {{vars.input.records[0].id}} has been approved",
                    "iri_list": "",
                    "cc_recipients": "",
                    "to_recipients": "{{vars.input.records[0].senderEmailAddress}}",
                    "bcc_recipients": "",
                    "inline_iri_list": ""
                },
                "version": "9.9.9",
                "connector": "exchange_dev",
                "operation": "send_email",
                "operationTitle": "Send Email",
                "pickFromTenant": false,
                "step_variables": []
            },
            "status": null,
            "top": "1515",
            "left": "475",
            "stepType": "\/api\/3\/workflow_step_types\/0bfed618-0316-11e7-93ae-92361f002671",
            "group": null,
            "uuid": "62cb0b6b-5622-4c6c-9abe-899fe76a457f"
        },
        {
            "@type": "WorkflowStep",
            "name": "Confirm receving request",
            "description": null,
            "arguments": {
                "name": "Exchange",
                "config": "52794173-b426-4c36-a09b-5d95d7ad304f",
                "params": {
                    "body": "<p>Dear {{vars.steps.Get_Requester_information.data.entries[0].attributes.displayName}}<\/p>\n<p>&nbsp;<\/p>\n<p>Thank you very much for filling the Form once your manager &nbsp;{{vars.steps.Get_Requester_Manager_information.data.entries[0].attributes.displayName}} Approved, we will let you know&nbsp;<\/p>",
                    "subject": "USB Request - ID {{vars.input.records[0].id}}",
                    "iri_list": "",
                    "cc_recipients": "",
                    "to_recipients": "{{vars.input.records[0].senderEmailAddress}}",
                    "bcc_recipients": "",
                    "inline_iri_list": ""
                },
                "version": "9.9.9",
                "connector": "exchange_dev",
                "operation": "send_email",
                "operationTitle": "Send Email",
                "pickFromTenant": false,
                "step_variables": []
            },
            "status": null,
            "top": "705",
            "left": "475",
            "stepType": "\/api\/3\/workflow_step_types\/0bfed618-0316-11e7-93ae-92361f002671",
            "group": null,
            "uuid": "245b0239-f602-4d2d-98d9-49f89de2e59a"
        },
        {
            "@type": "WorkflowStep",
            "name": "Create USB Record",
            "description": null,
            "arguments": {
                "resource": {
                    "username": "{{vars.steps.Get_Requester_information.data.entries[0].attributes.sAMAccountName}}",
                    "__replace": "",
                    "userEmail": "{{vars.steps.Get_Requester_information.data.entries[0].attributes.mail}}",
                    "validation": "\/api\/3\/picklists\/a83bf5f0-03c6-469c-a2ba-fd96cbdd9396",
                    "managerName": "{{vars.steps.Get_Requester_Manager_information.data.entries[0].attributes.name}}",
                    "managerEmail": "{{vars.steps.Get_Requester_Manager_information.data.entries[0].attributes.mail}}",
                    "requestStatus": "\/api\/3\/picklists\/294e1129-2b04-4306-8235-65efa5feb5f1",
                    "requesterName": "{{vars.steps.Get_Requester_information.data.entries[0].attributes.name}}"
                },
                "operation": "Overwrite",
                "collection": "\/api\/3\/u_s_bs",
                "__recommend": [],
                "fieldOperation": {
                    "recordTags": "Overwrite"
                },
                "step_variables": []
            },
            "status": null,
            "top": "435",
            "left": "650",
            "stepType": "\/api\/3\/workflow_step_types\/2597053c-e718-44b4-8394-4d40fe26d357",
            "group": null,
            "uuid": "14e40fef-d66a-4821-a50b-885c12b89d74"
        },
        {
            "@type": "WorkflowStep",
            "name": "Email to Cancle Request",
            "description": null,
            "arguments": {
                "name": "Exchange",
                "config": "52794173-b426-4c36-a09b-5d95d7ad304f",
                "params": {
                    "body": "<p>Dear {{vars.steps.Get_Requester_information.data.entries[0].attributes.displayName}}<\/p>\n<p>&nbsp;<\/p>\n<p>your request has been canceled as per your request ,<\/p>",
                    "subject": "USB Request - ID {{vars.input.records[0].id}} has been cancled",
                    "iri_list": "",
                    "cc_recipients": "",
                    "to_recipients": "{{vars.input.records[0].senderEmailAddress}}",
                    "bcc_recipients": "",
                    "inline_iri_list": ""
                },
                "version": "9.9.9",
                "connector": "exchange_dev",
                "operation": "send_email",
                "operationTitle": "Send Email",
                "pickFromTenant": false,
                "step_variables": []
            },
            "status": null,
            "top": "840",
            "left": "825",
            "stepType": "\/api\/3\/workflow_step_types\/0bfed618-0316-11e7-93ae-92361f002671",
            "group": null,
            "uuid": "63882924-e40d-4389-a4a0-56ffff5c5209"
        },
        {
            "@type": "WorkflowStep",
            "name": "Get Requester information",
            "description": null,
            "arguments": {
                "name": "Active Directory",
                "config": "ce37755d-93e2-4fb0-9598-0fa60eb73b91",
                "params": {
                    "cookie": "",
                    "page_size": "",
                    "size_limit": "",
                    "search_object": "User",
                    "search_attr_name": "Email",
                    "search_attr_value": "{{vars.input.records[0].senderEmailAddress}}"
                },
                "version": "5.5.5",
                "connector": "activedirectory_dev",
                "operation": "global_search",
                "operationTitle": "Global Search",
                "pickFromTenant": false,
                "step_variables": []
            },
            "status": null,
            "top": "165",
            "left": "650",
            "stepType": "\/api\/3\/workflow_step_types\/0bfed618-0316-11e7-93ae-92361f002671",
            "group": null,
            "uuid": "c618c18b-911c-48cb-9cf1-84ee51e9638c"
        },
        {
            "@type": "WorkflowStep",
            "name": "Get Requester Manager information",
            "description": null,
            "arguments": {
                "name": "Active Directory",
                "config": "ce37755d-93e2-4fb0-9598-0fa60eb73b91",
                "params": {
                    "cookie": "",
                    "page_size": "",
                    "size_limit": "",
                    "search_object": "User",
                    "search_attr_name": "Distinguished Name",
                    "search_attr_value": "{{vars.steps.Get_Requester_information.data.entries[0].attributes.manager}}"
                },
                "version": "5.5.5",
                "connector": "activedirectory_dev",
                "operation": "global_search",
                "operationTitle": "Global Search",
                "pickFromTenant": false,
                "step_variables": []
            },
            "status": null,
            "top": "300",
            "left": "650",
            "stepType": "\/api\/3\/workflow_step_types\/0bfed618-0316-11e7-93ae-92361f002671",
            "group": null,
            "uuid": "b057949b-6727-4841-be43-79057b47fcfa"
        },
        {
            "@type": "WorkflowStep",
            "name": "Move Collector",
            "description": null,
            "arguments": {
                "name": "Fortinet FortiEDR",
                "config": "ccabff18-59bc-45c5-b4b5-9f0941d39aa0",
                "params": {
                    "collectors": "{{vars.steps.Request_Machine_Name.input.machineName}}",
                    "forceAssign": "True",
                    "organization": "EMEA-UAE-SE",
                    "targetCollectorGroup": "Allow-USB"
                },
                "version": "2.0.0",
                "connector": "fortinet-fortiedr_dev",
                "operation": "Move_collector",
                "ignore_errors": true,
                "operationTitle": "Move Collector to Another group",
                "pickFromTenant": false,
                "step_variables": []
            },
            "status": null,
            "top": "1110",
            "left": "300",
            "stepType": "\/api\/3\/workflow_step_types\/0bfed618-0316-11e7-93ae-92361f002671",
            "group": null,
            "uuid": "843d4eb5-4d4d-47a8-8345-eafffdcc9429"
        },
        {
            "@type": "WorkflowStep",
            "name": "notification due to error happend during moving",
            "description": null,
            "arguments": {
                "name": "Exchange",
                "config": "52794173-b426-4c36-a09b-5d95d7ad304f",
                "params": {
                    "body": "<p>Dear {{vars.steps.Get_Requester_information.data.entries[0].attributes.displayName}}<\/p>\n<p>&nbsp;<\/p>\n<p>your request has been failed due to error ,<\/p>\n<p>{{vars.steps.Move_Collector['Error message']}}<\/p>",
                    "subject": "USB Request - ID {{vars.input.records[0].id}} has been failed",
                    "iri_list": "",
                    "cc_recipients": "",
                    "to_recipients": "{{vars.input.records[0].senderEmailAddress}}",
                    "bcc_recipients": "",
                    "inline_iri_list": ""
                },
                "version": "9.9.9",
                "connector": "exchange_dev",
                "operation": "send_email",
                "operationTitle": "Send Email",
                "pickFromTenant": false,
                "step_variables": []
            },
            "status": null,
            "top": "1380",
            "left": "125",
            "stepType": "\/api\/3\/workflow_step_types\/0bfed618-0316-11e7-93ae-92361f002671",
            "group": null,
            "uuid": "548f906d-97af-4dc7-be48-29f59f337de2"
        },
        {
            "@type": "WorkflowStep",
            "name": "Reject and Stop Request",
            "description": null,
            "arguments": {
                "params": [],
                "version": "3.2.6",
                "connector": "cyops_utilities",
                "operation": "no_op",
                "operationTitle": "Utils: No Operation",
                "step_variables": []
            },
            "status": null,
            "top": "1380",
            "left": "825",
            "stepType": "\/api\/3\/workflow_step_types\/0109f35d-090b-4a2b-bd8a-94cbc3508562",
            "group": null,
            "uuid": "382a158a-3ad4-4658-aadc-abe7d34ff955"
        },
        {
            "@type": "WorkflowStep",
            "name": "Rejection Email for moving collector",
            "description": null,
            "arguments": {
                "name": "Exchange",
                "config": "52794173-b426-4c36-a09b-5d95d7ad304f",
                "params": {
                    "body": "<p>Dear {{vars.steps.Get_Requester_information.data.entries[0].attributes.displayName}}<\/p>\n<p>&nbsp;<\/p>\n<p>your request has been rejected by your manager ,<\/p>",
                    "subject": "USB Request - ID {{vars.input.records[0].id}} has been Rejected",
                    "iri_list": "",
                    "cc_recipients": "",
                    "to_recipients": "{{vars.input.records[0].senderEmailAddress}}",
                    "bcc_recipients": "",
                    "inline_iri_list": ""
                },
                "version": "9.9.9",
                "connector": "exchange_dev",
                "operation": "send_email",
                "operationTitle": "Send Email",
                "pickFromTenant": false,
                "step_variables": []
            },
            "status": null,
            "top": "1245",
            "left": "825",
            "stepType": "\/api\/3\/workflow_step_types\/0bfed618-0316-11e7-93ae-92361f002671",
            "group": null,
            "uuid": "67e5835b-d3ca-4ce5-84f6-77bc29c8a34d"
        },
        {
            "@type": "WorkflowStep",
            "name": "Request Approval From Manager",
            "description": null,
            "arguments": {
                "type": "InputBased",
                "input": {
                    "schema": {
                        "title": "{{vars.steps.Get_Requester_information.data.entries[0].attributes.displayName}} Request USB Access",
                        "description": "<p style='margin-right:0in;margin-left:0in;font-size:16px;font-family:\"Calibri\",sans-serif;margin-top:0in;margin-bottom:8.0pt;font-size:11.0pt;'><span style='font-family:\"Arial\",sans-serif;'>Dear {{vars.steps.Get_Requester_Manager_information.data.entries[0].attributes.displayName}}<\/span><\/p>\n<p style='margin-right:0in;margin-left:0in;font-size:16px;font-family:\"Calibri\",sans-serif;margin-top:0in;margin-bottom:8.0pt;font-size:11.0pt;'><span style='font-family:\"Arial\",sans-serif;'>Your Employee <span style=\"color:red;\">{{vars.steps.Get_Requester_information.data.entries[0].attributes.displayName}}<\/span> Request USB Access Could you please use link below for <strong>approval<\/strong> or <strong>decline<\/strong> &nbsp;<\/span><\/p>\n<p style='margin-right:0in;margin-left:0in;font-size:16px;font-family:\"Calibri\",sans-serif;margin-top:0in;margin-bottom:8.0pt;font-size:11.0pt;'>&nbsp;<\/p>",
                        "inputVariables": [
                            {
                                "name": "justification",
                                "type": "string",
                                "label": "Justification",
                                "tooltip": "",
                                "dataType": "text",
                                "formType": "text",
                                "required": true,
                                "_expanded": true,
                                "defaultValue": null,
                                "_previousName": "just",
                                "jinjaExpressionView": true,
                                "useRecordFieldDefault": false
                            },
                            {
                                "name": "allowTill",
                                "type": "integer",
                                "label": "Allow till",
                                "title": "Date\/Time Field",
                                "usable": true,
                                "tooltip": "",
                                "dataType": "datetime",
                                "formType": "datetime",
                                "required": true,
                                "_expanded": true,
                                "mmdUpdate": true,
                                "collection": false,
                                "searchable": true,
                                "templateUrl": "app\/components\/form\/fields\/datetime.html",
                                "defaultValue": {
                                    "differenceType": "days",
                                    "differenceValue": 0
                                },
                                "_previousName": "allowT",
                                "playbookField": true,
                                "lengthConstraint": false,
                                "allowedEncryption": false,
                                "allowedGridColumn": true,
                                "jinjaExpressionView": true,
                                "useRecordFieldDefault": false
                            }
                        ]
                    }
                },
                "record": "{{ vars.input.records[0][\"@id\"] }}",
                "agent_id": null,
                "resources": "alerts",
                "is_approval": false,
                "owner_detail": {
                    "isAssigned": false,
                    "assignedToTeam": [],
                    "assignedToField": null,
                    "emailRecipients": "{{vars.steps.Get_Requester_Manager_information.data.entries[0].attributes.mail}}",
                    "assignedToPerson": [],
                    "assignedToRecord": false
                },
                "isRecordLinked": true,
                "step_variables": [],
                "response_mapping": {
                    "options": [
                        {
                            "option": "Approved",
                            "step_iri": "\/api\/3\/workflow_steps\/843d4eb5-4d4d-47a8-8345-eafffdcc9429"
                        },
                        {
                            "option": "Decline",
                            "step_iri": "\/api\/3\/workflow_steps\/8a33742e-2c51-4236-a40b-dfea64e03cee"
                        }
                    ],
                    "duplicateOption": false,
                    "customSuccessMessage": "Awaiting Playbook resumed successfully."
                },
                "inputExternalUser": true,
                "email_notification": {
                    "enabled": false,
                    "smtpParameters": []
                },
                "customEmailExternal": true,
                "customEmailInternal": false,
                "inline_channel_list": [],
                "external_channel_list": [
                    "\/api\/3\/picklists\/afb18b7f-510b-471a-9b9c-7f4646edd4bb"
                ],
                "unauthenticated_input": true,
                "external_email_subject": "{{vars.steps.Get_Requester_information.data.entries[0].attributes.displayName}} Request USB Access",
                "internal_email_subject": null,
                "custom_email_body_external": "<p style=\"font-size: 11.0pt; font-family: 'Calibri',sans-serif; margin: 0in 0in 8.0pt 0in;\"><span style=\"font-family: 'Arial',sans-serif;\">Dear {{vars.steps.Get_Requester_Manager_information.data.entries[0].attributes.displayName}}<\/span><\/p>\n<p style=\"font-size: 11.0pt; font-family: 'Calibri',sans-serif; margin: 0in 0in 8.0pt 0in;\"><span style=\"font-family: 'Arial',sans-serif;\">Your Employee <span style=\"color: red;\">{{vars.steps.Get_Requester_information.data.entries[0].attributes.displayName}}<\/span> Request USB Access Could you please use link below for <strong>approval<\/strong> or <strong>decline<\/strong> &nbsp;<\/span><\/p>\n<p style=\"font-size: 11.0pt; font-family: 'Calibri',sans-serif; margin: 0in 0in 8.0pt 0in;\">&nbsp;<\/p>",
                "custom_email_body_internal": null,
                "external_email_attachments": null,
                "internal_email_attachments": null
            },
            "status": null,
            "top": "975",
            "left": "475",
            "stepType": "\/api\/3\/workflow_step_types\/fc04082a-d7dc-4299-96fb-6837b1baa0fe",
            "group": null,
            "uuid": "48f778f2-a349-466d-8e7a-ed981313207c"
        },
        {
            "@type": "WorkflowStep",
            "name": "Request Machine Name",
            "description": null,
            "arguments": {
                "type": "InputBased",
                "input": {
                    "schema": {
                        "title": "Request USB Access",
                        "description": "<p style='margin-right:0in;margin-left:0in;font-size:16px;font-family:\"Calibri\",sans-serif;margin-top:0in;margin-bottom:8.0pt;font-size:11.0pt;'>Dear {{vars.steps.Get_Requester_information.data.entries[0].attributes.displayName}}<\/p>\n<p style='margin-right:0in;margin-left:0in;font-size:16px;font-family:\"Calibri\",sans-serif;margin-top:0in;margin-bottom:8.0pt;font-size:11.0pt;'>Thank you very much for reaching us,&nbsp;<\/p>\n<p style='margin-right:0in;margin-left:0in;font-size:16px;font-family:\"Calibri\",sans-serif;margin-top:0in;margin-bottom:8.0pt;font-size:11.0pt;'>Could you please use link below to fill the <span style=\"color:red;\">machine name&nbsp;<\/span>which you need it to use USB on it&nbsp;<\/p>\n<p style='margin-right:0in;margin-left:0in;font-size:16px;font-family:\"Calibri\",sans-serif;margin-top:0in;margin-bottom:8.0pt;font-size:11.0pt;'>Security Team&nbsp;<\/p>\n\n",
                        "inputVariables": [
                            {
                                "name": "machineName",
                                "type": "string",
                                "label": "Machine Name",
                                "tooltip": "",
                                "dataType": "text",
                                "formType": "text",
                                "required": true,
                                "_expanded": true,
                                "defaultValue": null,
                                "_previousName": "machine",
                                "jinjaExpressionView": true,
                                "useRecordFieldDefault": false
                            }
                        ]
                    }
                },
                "record": "{{ vars.input.records[0][\"@id\"] }}",
                "agent_id": null,
                "resources": "alerts",
                "is_approval": false,
                "owner_detail": {
                    "isAssigned": false,
                    "assignedToTeam": [],
                    "assignedToField": null,
                    "emailRecipients": "{{vars.input.records[0].senderEmailAddress}}",
                    "assignedToPerson": [],
                    "assignedToRecord": false
                },
                "isRecordLinked": true,
                "step_variables": [],
                "response_mapping": {
                    "options": [
                        {
                            "option": "Submit",
                            "step_iri": "\/api\/3\/workflow_steps\/245b0239-f602-4d2d-98d9-49f89de2e59a"
                        },
                        {
                            "option": "Decline",
                            "step_iri": "\/api\/3\/workflow_steps\/54503e5f-2106-4c41-8c1a-7818f3e321a3"
                        }
                    ],
                    "duplicateOption": false,
                    "customSuccessMessage": "Awaiting Playbook resumed successfully."
                },
                "inputExternalUser": true,
                "email_notification": {
                    "enabled": false,
                    "smtpParameters": []
                },
                "customEmailExternal": true,
                "customEmailInternal": false,
                "inline_channel_list": [],
                "external_channel_list": [
                    "\/api\/3\/picklists\/afb18b7f-510b-471a-9b9c-7f4646edd4bb"
                ],
                "unauthenticated_input": true,
                "external_email_subject": "Request USB Access",
                "internal_email_subject": null,
                "custom_email_body_external": "<p style=\"font-size: 11.0pt; font-family: 'Calibri',sans-serif; margin: 0in 0in 8.0pt 0in;\">Dear {{vars.steps.Get_Requester_information.data.entries[0].attributes.displayName}}<\/p>\n<p style=\"font-size: 11.0pt; font-family: 'Calibri',sans-serif; margin: 0in 0in 8.0pt 0in;\">Thank you very much for reaching us,&nbsp;<\/p>\n<p style=\"font-size: 11.0pt; font-family: 'Calibri',sans-serif; margin: 0in 0in 8.0pt 0in;\">Could you please use link below to fill the <span style=\"color: red;\">machine name&nbsp;<\/span>which you need it to use USB on it&nbsp;<\/p>\n<p style=\"font-size: 11.0pt; font-family: 'Calibri',sans-serif; margin: 0in 0in 8.0pt 0in;\">Security Team&nbsp;<\/p>",
                "custom_email_body_internal": null,
                "external_email_attachments": "",
                "internal_email_attachments": null
            },
            "status": null,
            "top": "570",
            "left": "650",
            "stepType": "\/api\/3\/workflow_step_types\/fc04082a-d7dc-4299-96fb-6837b1baa0fe",
            "group": null,
            "uuid": "4ba6209f-72d2-433a-9dd5-b16a7fd1cbef"
        },
        {
            "@type": "WorkflowStep",
            "name": "Start",
            "description": null,
            "arguments": {
                "resource": "alerts",
                "resources": [
                    "alerts"
                ],
                "__triggerLimit": true,
                "step_variables": {
                    "input": {
                        "params": [],
                        "records": [
                            "{{vars.input.records[0]}}"
                        ]
                    }
                },
                "triggerOnSource": true,
                "fieldbasedtrigger": {
                    "sort": [],
                    "limit": 30,
                    "logic": "AND",
                    "filters": [
                        {
                            "type": "primitive",
                            "field": "name",
                            "value": "%USB%",
                            "operator": "like",
                            "_operator": "like"
                        }
                    ]
                },
                "triggerOnReplicate": false
            },
            "status": null,
            "top": "30",
            "left": "650",
            "stepType": "\/api\/3\/workflow_step_types\/ea155646-3821-4542-9702-b246da430a8d",
            "group": null,
            "uuid": "004086a1-eb5c-43b1-9ece-2e1f86e92e6d"
        },
        {
            "@type": "WorkflowStep",
            "name": "Stop Request",
            "description": null,
            "arguments": {
                "params": [],
                "version": "3.2.6",
                "connector": "cyops_utilities",
                "operation": "no_op",
                "operationTitle": "Utils: No Operation",
                "step_variables": []
            },
            "status": null,
            "top": "975",
            "left": "825",
            "stepType": "\/api\/3\/workflow_step_types\/0109f35d-090b-4a2b-bd8a-94cbc3508562",
            "group": null,
            "uuid": "95bb1c98-0570-4757-8d63-c049d4250ff4"
        },
        {
            "@type": "WorkflowStep",
            "name": "update failed status",
            "description": null,
            "arguments": {
                "resource": {
                    "validation": "\/api\/3\/picklists\/75a885d6-05fd-4f5f-9af0-a3ea93894d54",
                    "allowedUntil": "{{arrow.get(vars.steps.Request_Approval_From_Manager.input.allowTill).int_timestamp}}",
                    "requestStatus": "\/api\/3\/picklists\/427ec113-86c8-4e32-84ef-50147ff03e77",
                    "managerJustification": "{{vars.steps.Request_Approval_From_Manager.input.justification}}",
                    "managerApprovalStatus": "\/api\/3\/picklists\/4f67349f-2006-4f4f-b9e4-bdca7ed18fb6"
                },
                "operation": "Append",
                "collection": "{{vars.steps.Create_USB_Record['@id']}}",
                "__recommend": [],
                "collectionType": "\/api\/3\/u_s_bs",
                "fieldOperation": {
                    "recordTags": "Append"
                },
                "step_variables": []
            },
            "status": null,
            "top": "1515",
            "left": "125",
            "stepType": "\/api\/3\/workflow_step_types\/b593663d-7d13-40ce-a3a3-96dece928722",
            "group": null,
            "uuid": "bf643e33-b065-4f1d-ab20-973bf6af2fdd"
        },
        {
            "@type": "WorkflowStep",
            "name": "Update Manager Request",
            "description": null,
            "arguments": {
                "resource": {
                    "machineName": "{{vars.steps.Request_Machine_Name.input.machineName}}",
                    "requestStatus": "\/api\/3\/picklists\/294e1129-2b04-4306-8235-65efa5feb5f1",
                    "managerApprovalStatus": "\/api\/3\/picklists\/5f36debe-b710-43ce-860e-89d7e234aa8e"
                },
                "operation": "Append",
                "collection": "{{vars.steps.Create_USB_Record['@id']}}",
                "__recommend": [],
                "collectionType": "\/api\/3\/u_s_bs",
                "fieldOperation": {
                    "recordTags": "Append"
                },
                "step_variables": []
            },
            "status": null,
            "top": "840",
            "left": "475",
            "stepType": "\/api\/3\/workflow_step_types\/b593663d-7d13-40ce-a3a3-96dece928722",
            "group": null,
            "uuid": "a6368cfe-d158-471a-af25-365ce446a234"
        },
        {
            "@type": "WorkflowStep",
            "name": "Update Manager Request after approval",
            "description": null,
            "arguments": {
                "resource": {
                    "validation": "\/api\/3\/picklists\/99da698b-25f4-400f-bd33-56340d1162db",
                    "allowedUntil": "{{arrow.get(vars.steps.Request_Approval_From_Manager.input.allowTill).int_timestamp}}",
                    "requestStatus": "\/api\/3\/picklists\/427ec113-86c8-4e32-84ef-50147ff03e77",
                    "managerJustification": "{{vars.steps.Request_Approval_From_Manager.input.justification}}",
                    "managerApprovalStatus": "\/api\/3\/picklists\/4f67349f-2006-4f4f-b9e4-bdca7ed18fb6"
                },
                "operation": "Append",
                "collection": "{{vars.steps.Create_USB_Record['@id']}}",
                "__recommend": [],
                "collectionType": "\/api\/3\/u_s_bs",
                "fieldOperation": {
                    "recordTags": "Append"
                },
                "step_variables": []
            },
            "status": null,
            "top": "1380",
            "left": "475",
            "stepType": "\/api\/3\/workflow_step_types\/b593663d-7d13-40ce-a3a3-96dece928722",
            "group": null,
            "uuid": "d18568c6-b281-405d-b8ba-58a754abc350"
        },
        {
            "@type": "WorkflowStep",
            "name": "Update Manager Request Reject",
            "description": null,
            "arguments": {
                "resource": {
                    "validation": "\/api\/3\/picklists\/7fe30555-4ad5-495f-a360-60c207ded3eb",
                    "requestStatus": "\/api\/3\/picklists\/0aff82e9-c575-483b-b0eb-1e7d3d5f088b",
                    "managerJustification": "{{vars.steps.Request_Approval_From_Manager.input.justification}}",
                    "managerApprovalStatus": "\/api\/3\/picklists\/50b13f64-d811-4d66-aeb2-112e266c3465"
                },
                "operation": "Append",
                "collection": "{{vars.steps.Create_USB_Record['@id']}}",
                "__recommend": [],
                "collectionType": "\/api\/3\/u_s_bs",
                "fieldOperation": {
                    "recordTags": "Append"
                },
                "step_variables": []
            },
            "status": null,
            "top": "1110",
            "left": "825",
            "stepType": "\/api\/3\/workflow_step_types\/b593663d-7d13-40ce-a3a3-96dece928722",
            "group": null,
            "uuid": "8a33742e-2c51-4236-a40b-dfea64e03cee"
        },
        {
            "@type": "WorkflowStep",
            "name": "Update Stop Request",
            "description": null,
            "arguments": {
                "resource": {
                    "validation": "\/api\/3\/picklists\/99da698b-25f4-400f-bd33-56340d1162db",
                    "machineName": "{{vars.steps.Request_Machine_Name.input.machineName}}",
                    "requestStatus": "\/api\/3\/picklists\/0aff82e9-c575-483b-b0eb-1e7d3d5f088b",
                    "managerJustification": "Rejected By Requester"
                },
                "operation": "Append",
                "collection": "{{vars.steps.Create_USB_Record['@id']}}",
                "__recommend": [],
                "collectionType": "\/api\/3\/u_s_bs",
                "fieldOperation": {
                    "recordTags": "Append"
                },
                "step_variables": []
            },
            "status": null,
            "top": "705",
            "left": "825",
            "stepType": "\/api\/3\/workflow_step_types\/b593663d-7d13-40ce-a3a3-96dece928722",
            "group": null,
            "uuid": "54503e5f-2106-4c41-8c1a-7818f3e321a3"
        },
        {
            "@type": "WorkflowStep",
            "name": "Validatation if the collector has been moved",
            "description": null,
            "arguments": {
                "conditions": [
                    {
                        "option": "Collector moved",
                        "step_iri": "\/api\/3\/workflow_steps\/d18568c6-b281-405d-b8ba-58a754abc350",
                        "condition": "{{ vars.steps.Move_Collector.data.result == 'Successfully executed Move_collector' }}",
                        "step_name": "Update Manager Request after approval"
                    },
                    {
                        "option": "collector failed to move",
                        "default": true,
                        "step_iri": "\/api\/3\/workflow_steps\/548f906d-97af-4dc7-be48-29f59f337de2",
                        "step_name": "notification due to error happend during moving"
                    }
                ],
                "step_variables": []
            },
            "status": null,
            "top": "1245",
            "left": "300",
            "stepType": "\/api\/3\/workflow_step_types\/12254cf5-5db7-4b1a-8cb1-3af081924b28",
            "group": null,
            "uuid": "c502a5fc-a1ac-44c3-a234-984eff39fe8d"
        }
    ],
    "routes": [
        {
            "@type": "WorkflowRoute",
            "name": "Confirm receving request -> Update Manager Request",
            "targetStep": "\/api\/3\/workflow_steps\/a6368cfe-d158-471a-af25-365ce446a234",
            "sourceStep": "\/api\/3\/workflow_steps\/245b0239-f602-4d2d-98d9-49f89de2e59a",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "4f5b8439-1c4e-4aa4-bfd9-187d9cde1d97"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Copy of Rejection Email for moving collector -> Stop Request",
            "targetStep": "\/api\/3\/workflow_steps\/95bb1c98-0570-4757-8d63-c049d4250ff4",
            "sourceStep": "\/api\/3\/workflow_steps\/63882924-e40d-4389-a4a0-56ffff5c5209",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "f0f61641-f496-44ae-afcc-6fb7735ce320"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Copy of Update Manager Request -> Copy of Confirm receving request",
            "targetStep": "\/api\/3\/workflow_steps\/62cb0b6b-5622-4c6c-9abe-899fe76a457f",
            "sourceStep": "\/api\/3\/workflow_steps\/d18568c6-b281-405d-b8ba-58a754abc350",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "8130f789-c5ba-47a5-b190-8b75babc6d8d"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Create USB Record -> Request Machine Name",
            "targetStep": "\/api\/3\/workflow_steps\/4ba6209f-72d2-433a-9dd5-b16a7fd1cbef",
            "sourceStep": "\/api\/3\/workflow_steps\/14e40fef-d66a-4821-a50b-885c12b89d74",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "13397fee-00b7-4e5a-9b6d-d47a75375c9b"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Get Requester information -> Copy of Get Requester information",
            "targetStep": "\/api\/3\/workflow_steps\/b057949b-6727-4841-be43-79057b47fcfa",
            "sourceStep": "\/api\/3\/workflow_steps\/c618c18b-911c-48cb-9cf1-84ee51e9638c",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "d4bed415-57e7-4f03-923c-e77f19089871"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Get Requester Manager information -> Create USB Record",
            "targetStep": "\/api\/3\/workflow_steps\/14e40fef-d66a-4821-a50b-885c12b89d74",
            "sourceStep": "\/api\/3\/workflow_steps\/b057949b-6727-4841-be43-79057b47fcfa",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "9bb47323-71e0-4757-9c7c-8a7a070ad52e"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Move Collector -> Validatation if the collector has been moved",
            "targetStep": "\/api\/3\/workflow_steps\/c502a5fc-a1ac-44c3-a234-984eff39fe8d",
            "sourceStep": "\/api\/3\/workflow_steps\/843d4eb5-4d4d-47a8-8345-eafffdcc9429",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "5d115c2d-37ab-411b-abe0-fb63afc28148"
        },
        {
            "@type": "WorkflowRoute",
            "name": "notification due to error happend during moving -> Copy of Update Manager Request after approval",
            "targetStep": "\/api\/3\/workflow_steps\/bf643e33-b065-4f1d-ab20-973bf6af2fdd",
            "sourceStep": "\/api\/3\/workflow_steps\/548f906d-97af-4dc7-be48-29f59f337de2",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "bedf5c8b-1b49-424d-9e13-2e691e5e5c2b"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Rejection Email for moving collector -> Reject and Stop Request",
            "targetStep": "\/api\/3\/workflow_steps\/382a158a-3ad4-4658-aadc-abe7d34ff955",
            "sourceStep": "\/api\/3\/workflow_steps\/67e5835b-d3ca-4ce5-84f6-77bc29c8a34d",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "3af4a423-d789-4ae1-b6d8-caf9bfdb27f8"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Request Approval From Manager -> Move Collector",
            "targetStep": "\/api\/3\/workflow_steps\/843d4eb5-4d4d-47a8-8345-eafffdcc9429",
            "sourceStep": "\/api\/3\/workflow_steps\/48f778f2-a349-466d-8e7a-ed981313207c",
            "label": "Approved",
            "isExecuted": false,
            "group": null,
            "uuid": "bff25339-f76e-424e-95c3-38dc2afcae87"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Request Approval From Manager -> Update Manager Request Reject",
            "targetStep": "\/api\/3\/workflow_steps\/8a33742e-2c51-4236-a40b-dfea64e03cee",
            "sourceStep": "\/api\/3\/workflow_steps\/48f778f2-a349-466d-8e7a-ed981313207c",
            "label": "Decline",
            "isExecuted": false,
            "group": null,
            "uuid": "44e57a9e-c232-4896-9edd-b8c775d8c76b"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Request Machine Name -> Confirm receving request",
            "targetStep": "\/api\/3\/workflow_steps\/245b0239-f602-4d2d-98d9-49f89de2e59a",
            "sourceStep": "\/api\/3\/workflow_steps\/4ba6209f-72d2-433a-9dd5-b16a7fd1cbef",
            "label": "Submit",
            "isExecuted": false,
            "group": null,
            "uuid": "cac622e0-d264-4eb8-8477-f09ae1475dd3"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Request Machine Name -> Update Stop Request",
            "targetStep": "\/api\/3\/workflow_steps\/54503e5f-2106-4c41-8c1a-7818f3e321a3",
            "sourceStep": "\/api\/3\/workflow_steps\/4ba6209f-72d2-433a-9dd5-b16a7fd1cbef",
            "label": "Decline",
            "isExecuted": false,
            "group": null,
            "uuid": "eb177e20-71c6-4439-91f4-d1518e076caf"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Start -> Get Requester information",
            "targetStep": "\/api\/3\/workflow_steps\/c618c18b-911c-48cb-9cf1-84ee51e9638c",
            "sourceStep": "\/api\/3\/workflow_steps\/004086a1-eb5c-43b1-9ece-2e1f86e92e6d",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "2795eae0-63a8-42ad-9d78-7b433721f675"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Update Manager Request Reject -> Rejection Email for moving collector",
            "targetStep": "\/api\/3\/workflow_steps\/67e5835b-d3ca-4ce5-84f6-77bc29c8a34d",
            "sourceStep": "\/api\/3\/workflow_steps\/8a33742e-2c51-4236-a40b-dfea64e03cee",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "4d5a93b3-2dfe-4c37-b096-e5dc696069de"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Update Manager Request -> Request Approval From Manager",
            "targetStep": "\/api\/3\/workflow_steps\/48f778f2-a349-466d-8e7a-ed981313207c",
            "sourceStep": "\/api\/3\/workflow_steps\/a6368cfe-d158-471a-af25-365ce446a234",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "7cc4f1e9-8a2d-4112-933e-e1b13d6ba83c"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Update Stop Request -> Copy of Rejection Email for moving collector",
            "targetStep": "\/api\/3\/workflow_steps\/63882924-e40d-4389-a4a0-56ffff5c5209",
            "sourceStep": "\/api\/3\/workflow_steps\/54503e5f-2106-4c41-8c1a-7818f3e321a3",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "845b9a5a-cb73-4f74-829e-c50f59d37ed6"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Validatation if the collector has been moved -> Copy 1 of Confirmation Email for moving collector",
            "targetStep": "\/api\/3\/workflow_steps\/548f906d-97af-4dc7-be48-29f59f337de2",
            "sourceStep": "\/api\/3\/workflow_steps\/c502a5fc-a1ac-44c3-a234-984eff39fe8d",
            "label": "collector failed to move",
            "isExecuted": false,
            "group": null,
            "uuid": "76b134be-c157-487e-aaa1-35758550a749"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Validatation if the collector has been moved -> Copy of Update Manager Request",
            "targetStep": "\/api\/3\/workflow_steps\/d18568c6-b281-405d-b8ba-58a754abc350",
            "sourceStep": "\/api\/3\/workflow_steps\/c502a5fc-a1ac-44c3-a234-984eff39fe8d",
            "label": "Collector moved",
            "isExecuted": false,
            "group": null,
            "uuid": "855a8ac1-4da6-4890-977a-fb7d2f72fcf5"
        }
    ],
    "groups": [],
    "priority": "\/api\/3\/picklists\/2b563c61-ae2c-41c0-a85a-c9709585e3f2",
    "uuid": "c9db1715-a1da-4e5b-9875-eae02c3e7a44",
    "owners": [],
    "isPrivate": false,
    "deletedAt": null,
    "recordTags": []
}